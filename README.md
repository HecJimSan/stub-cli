# @hectorjs/stub-cli

## Quality measures

![](https://github.com/HecJimSan/stub-cli/workflows/%40hectorjs%2Fstub%2Dcli/badge.svg)

# Description

The aim of this project is to mock backend services building different responses for a given authentication, cookie, request among others.

Make the life easier for a nice development :smile:

# Install

```sh
npm install -g @hectorjs/stub-cli
```

# CLI

Verify your **hjs** command is installed correctly.

```sh
hjs --version
```

```sh
hjs test
```
You should see a health test generated by default.

## Commands

### ```hjs --help```
 It will display posible options available in the library.

### ```hjs new/n [name-mock-service]```  
It creates a new project with the name provided in the brakets.

_Example:_ ```hjs new mock-service```

You can add the option ```--vs``` or ```--idea`` to open the IDE.

### ```hjs generate/g [method] [name-path]```  
It will generate a method template resource with a test. For example , ```hjs g get customers/{id}/business?product={param}```). More info: ```hjs g --help```.
You can generate different methods like get, head, post, delete among others.

For each method, it creates a test with dummy data. It will reduce the time to test the mock. Give it a try. 

_NOTE:_ The endpoint should not start with '/' for the cli and you should escape '&' like the next example:

```hjs g post customers/{id}/products?query={param1}\&identifier={identifier}```

### ```hjs test```
Execute the tests which have been created by each method generate command (```hjs g get ...```).

_NOTE_: you can run ```npm test``` as well.

### ```hjs start```
If you want to run the mock ```hjs start```.

_NOTE:_ you can run ```npm start``` as well.

## Methods availabe to mock at this moment

- [x] GET
- [x] HEAD
- [x] POST
- [x] PUT
- [x] DELETE
- [x] OPTIONS
- [x] TRACE
- [x] PATCH

# UI

This section is in progress at this moment.

You can run the application and navigate to ```http://localhost:3005/``` and have a look.


```

If you want to test it, copy the previous example and paste it in one of the json files. Then execute the following command:

```sh
node app.js
```

The service will be running in the port *3005* waiting for a request.

Make a request:

```sh
curl http://localhost:3005/health
```

The response will be like this:

```json
{
    "STATUS": "UP"
}
```

# Respository

https://github.com/HecJimSan/stub-cli
